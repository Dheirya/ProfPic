<!DOCTYPE html>
<html>
   <head>
      <script>window.mobileCheck = function() {let check = false;(function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);return check;};if(!window.mobileCheck()){window.location.href = "index.html";}</script>
      <meta charset="UTF-8"/>
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
      <title>ProfPic â€“ Customize & Edit Your Profile Picture</title>
      <meta name="title" content="ProfPic â€“ Customize & Edit Your Profile Picture Easily">
      <meta name="description" content="Easily customize and edit your current profile picture in your browser to make it awesome! Change the filters, profile shape, add stickers, draw on it, and more!">
      <meta property="og:type" content="website">
      <meta property="og:url" content="https://profpic.vercel.app">
      <meta property="og:title" content="ProfPic â€“ Customize & Edit Your Profile Picture Easily">
      <meta property="og:description" content="Easily customize and edit your current profile picture in your browser to make it awesome! Change the filters, profile shape, add stickers, draw on it, and more!">
      <meta property="og:image" content="https://profpic.vercel.app/images/twitter.png">
      <meta name="twitter:card" content="summary_large_image">
      <meta name="twitter:creator" content="@DheiryaTyagi">
      <meta name="twitter:url" content="https://profpic.vercel.app">
      <meta name="twitter:title" content="ProfPic â€“ Customize & Edit Your Profile Picture Easily">
      <meta name="twitter:description" content="Easily customize and edit your current profile picture in your browser to make it awesome! Change the filters, profile shape, add stickers, draw on it, and more!">
      <meta name="twitter:image" content="https://profpic.vercel.app/images/twitter.png">
      <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
      <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="192x192" href="/favicon/android-chrome-192x192.png">
      <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
      <link rel="manifest" href="/favicon/site.webmanifest">
      <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#70e0a6">
      <link rel="shortcut icon" href="/favicon/favicon.ico">
      <meta name="apple-mobile-web-app-title" content="ProfPic">
      <meta name="application-name" content="ProfPic">
      <meta name="msapplication-TileColor" content="#00aba9">
      <meta name="msapplication-TileImage" content="/favicon/mstile-144x144.png">
      <meta name="msapplication-config" content="/favicon/browserconfig.xml">
      <meta name="theme-color" content="#ffffff">
      <style>#canvas,.defa{width:400px;height:400px}select,select option{background-color:#e6c073}#stephalf,#stephalffour,#stephalfthree,#stephalftwo,#stepseven,#steptwo{display:none}.carousel-cell img,.main-carousel figure{height:200px!important;width:200px!important}#koleimg,.frame img{max-width:100%}#stephalf,.flodee,.frame{position:relative}body,html{max-width:100%!important;overflow-x:hidden!important;-webkit-user-select:none;-moz-user-select:-moz-none;-ms-user-select:none;user-select:none;touch-action:manipulation}#btncons,#stephalftwo,#stepone,#steptwo,h1,p{text-align:center!important;margin:auto!important}body,html,input{font-family:Poppins;background-color:#ccf3df}#canvas{padding-top:15px;padding-bottom:15px}h1{color:#0c1a39;font-size:2.5em;font-weight:900;padding-top:5px}p{font-size:1em}.upload-btn-wrapper{position:relative;overflow:hidden;display:inline-block}.front,.frontxxx{display:block;transform:translateY(-6px)}.btn{border:none;color:#fff;background-color:#328057;padding:5px 0 0;border-radius:8px;font-size:1.35em;font-weight:700;cursor:pointer}.upload-btn-wrapper input[type=file]{font-size:100px;position:absolute;left:0;top:0;opacity:0;cursor:pointer}.front{padding:12px 32px;border-radius:12px;font-size:1.35rem;background:#5fa581;color:#fff}.btninput,.btnxxx{color:#fff;font-size:1.35em;font-weight:700;cursor:pointer}.btn:active .front{transform:translateY(-2px)}.defa{border-radius:50%;padding-top:15px;padding-bottom:15px}.btnxxx{border:none;background-color:#328057;padding:5px 0 0;border-radius:8px;height:2.9em}.btninput{border:none;background-color:#1e90ff;padding:15px;border-radius:8px;margin-left:-60px}.frontxxx{padding:12px 32px;border-radius:12px;font-size:1.35rem;background:#5fa581;color:#fff;height:1.5em}.btnxxxy,select{appearance:none;font:inherit;color:#fff;cursor:pointer;outline:0}select{border:0;height:3.15em;border-radius:.25em;font-size:1.2em;font-weight:700;font-family:Poppins}.btnxxxy{border:0;height:2.95em!important;padding-left:15px!important;padding-right:15px!important;background-color:#5fa581;border-radius:.25em;font-size:1.3em!important;font-weight:700;font-family:Poppins}select option{color:inherit}select:focus{outline:0}select::-ms-expand{display:none}#stephalf{margin-left:10px;margin-right:10px;margin-top:15px}#previewimg{width:100px;position:absolute;top:10px;right:10px}div[data-action=close],div[data-action=render]{visibility:hidden!important}#imgmarker{width:95vw}.carousel{background:#eee}.main-carousel figure{padding:0;margin:0;margin-right:10px!important}.carousel-cell center i{color:#343a40;text-transform:uppercase;text-align:center;width:100%;margin-bottom:1rem}.carousel-cell.is-clicked center{background-color:#343a40;width:95%;margin-left:-10px!important;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.carousel-cell.is-clicked center i{color:#f7f9fa}.frame img{border:2px solid;border-color:#ccb #eed #ffe;max-height:100%}.frame{background-color:#ddc;border:5vmin solid #eee;border-radius:2px;border-color:#ddd #eee #fff;box-shadow:0 0 5px 0 rgba(0,0,0,.25) inset,0 5px 10px 5px rgba(0,0,0,.25);box-sizing:border-box;display:inline-block;margin:1vh 1vh 3vh;padding:1vmin;text-align:center;transform:rotate(-2deg);width:90vw;height:90vw}.frame:after,.frame:before{border-radius:2px;content:"";position:absolute}.frame:before{bottom:-2vmin;box-shadow:0 2px 5px 0 rgba(0,0,0,.25) inset;left:-2vmin;right:-2vmin;top:-2vmin}.frame:after{bottom:-2.5vmin;box-shadow:0 2px 5px 0 rgba(0,0,0,.25);left:-2.5vmin;right:-2.5vmin;top:-2.5vmin}.flodee{width:480px!important;margin-top:-10px}.flodee img{width:92vw!important;margin-left:1.8vw!important}.defaparent{transform-style:preserve-3d;transform:scale(.95,.95);animation:25s ease-in-out 7.5s infinite animateX}.frame{transform-style:preserve-3d;animation:25s ease-in-out 15s infinite animateY}@keyframes animateX{0%{transform:perspective(1000px) rotateY(0) scale(.95,.95)}12.5%{transform:perspective(1000px) rotateY(180deg) scale(.95,.95)}25%{transform:perspective(1000px) rotateY(360deg) scale(.95,.95)}37.5%{transform:perspective(1000px) rotateY(540deg) scale(.95,.95)}50%{transform:perspective(1000px) rotateY(720deg) scale(.95,.95)}62.5%{transform:perspective(1000px) rotateY(900deg) scale(.95,.95)}100%,75%{transform:perspective(1000px) rotateY(1080deg) scale(.95,.95)}}@keyframes animateY{0%{transform:perspective(1000px) rotateY(0) scale(.9,.9)}12.5%{transform:perspective(1000px) rotateY(180deg) scale(.9,.9)}25%{transform:perspective(1000px) rotateY(360deg) scale(.9,.9)}37.5%{transform:perspective(1000px) rotateY(540deg) scale(.9,.9)}50%{transform:perspective(1000px) rotateY(720deg) scale(.9,.9)}62.5%{transform:perspective(1000px) rotateY(900deg) scale(.9,.9)}100%,75%{transform:perspective(1000px) rotateY(1080deg) scale(1,1)}}.flodee p{position:absolute;bottom:31px;color:#525252}.lightning{position:absolute;left:50%;transform:translateX(-50%);top:0;z-index:999999;display:none}.modaal-wrapper{z-index:999999999999999!important;transform:rotate(0)!important}body{opacity:1;transition-duration:.7s;transition-property:opacity}body.fade{opacity:0}#vanillatoasts-container{top:-1.6%!important}</style>
      <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,700,800,900&display=swap" rel="stylesheet"/>
      <link rel="stylesheet" href="css/mobile.bundle.css"/>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"/>
   </head>
   <body class="fade">
      <img class="lightning" src="images/lightning.gif"/>
      <img style="display: none;" id="img"/>
      <a style="display: none;" id="link"></a>
      <div class="flodee" style="margin-bottom: -25px;">
         <img src="images/logo.png"/>
         <p style="right:19px;display:none">
            <i>Step <span id="countdss">1</span>/7 ~ <span id="mess">Upload a profile picture</span></i>
         </p>
      </div>
      <script>document.getElementsByClassName("flodee")[0].style.paddingLeft = (document.body.clientWidth-600)/2 + "px"</script>
      <div id="stepone">
         <div class="defaparent">
            <img style="cursor:copy" class="defa" src="images/profile.png" onclick="$('#file').click()"/><br/>
         </div>
         <div class="upload-btn-wrapper">
            <button class="btn">
               <span class="front">
                  Upload Photo
               </span>
            </button>
            <input type="file" id="file" name="file" accept="image/*" title=" " />
         </div>
      </div>
      <div id="stephalf">
         <img id="koleimg" src="" />
         <img id="previewimg" /><br />
         <div id="btncons">
            <button class="btn" onclick="location.reload()" style="background: hsl(340deg 100% 32%);">
               <span class="front" style="background: hsl(345deg 100% 47%);">
                  Retake
               </span>
            </button>
            &nbsp;&nbsp;
            <button class="btn" onclick="crop(false)">
               <span class="front">
                  Crop
               </span>
            </button>
         </div>
      </div>
      <div id="stephalftwo">
         <center style="padding-right: 5px !important; padding-left: 0px !important; padding-top: 25px !important; padding-bottom: 15px !important;">
            <div id="sb" style="width: 95vw !important;"></div>
         </center>
         <center>
            <button class="btnxxxy" onclick="location.reload()" style="background: hsl(345deg 100% 47%);">
               Retake
            </button>
            &nbsp;&nbsp;
            <button class="btnxxxy" onclick="nxxtsp()">
               Next Step
            </button>
         </center>
      </div>
      <div id="stephalfthree">
         <center style="margin-top: 55px; margin-bottom: 38px;">
            <div id="editrrrind">
               <img id="imgmarker" src="" />
            </div>
            <div id="loader" style="display: none;">
               <img id="testing" src="images/loader.gif" />
            </div>
         </center>
         <center id="mdaslkedee">
            <button class="btnxxxy" onclick="location.reload()" style="background: hsl(345deg 100% 47%);">
               Retake
            </button>
            &nbsp;&nbsp;
            <button class="btnxxxy" onclick="savedsasdsa()">
               Next Step
            </button>
         </center>
      </div>
      <div id="stephalffour">
         <center>
            <figure id="picframe" style="width: 400px; height: 400px;margin-left:5px">
               <img id="picframeimg" src="" style="width: 400px; height: 400px;" />
            </figure>
            <div class="main-carousel"></div>
            <br/>
            <p style="color: #525252;display:none" id="filecarousel">Note that if you are using a filter, the shape transparency feature might not work.</p>
            <button id="filecarouselbtn" class="btnxxxy" onclick="location.reload()" style="background: hsl(345deg 100% 47%);">
               Retake
            </button>
            &nbsp;&nbsp;
            <button class="btnxxxy dsaeobxys" onclick="daedssave()">
               Next Step
            </button>
         </center>
      </div>
      <div id="steptwo">
         <canvas id="canvas"></canvas><br />
         <select onchange="chngshp()" id="select_id">
            <option value="-1">Default Square</option>
            <option value="0">Round Circle</option>
            <option value="1">Diamond Shape</option>
            <option value="2">Triangle Shape</option>
            <option value="3">Pentagon Shape</option>
            <option value="4">Hexagon Shape</option>
            <option value="5">Septagon Shape</option>
            <option value="6">Octagon Shape</option>
            <option value="7">Round Square Shape</option>
            <option value="8">5-Pointed Star</option>
            <option value="9">6-Pointed Star</option>
            <option value="10">7-Pointed Star</option>
            <option value="11">8-Pointed Star</option>
            <option value="12">10-Pointed Star</option>
            <option value="13">12-Pointed Star</option>
            <option value="14">16-Pointed Star</option>
            <option value="15">24-Pointed Star</option>
            <option value="16">32-Pointed Star</option>
            <option value="17">64-Pointed Star</option>
         </select>
         <span class="transxxy" style="display: none;">&nbsp;&nbsp;</span>
         <button class="btnxxxy dsaeobxys" onclick="download()">
            Next Step
         </button>
      </div>
      <div id="stepseven">
         <center>
            <br/>
            <div class="frame">
               <img src="" />
            </div>
            <br/>
            <p style="color: #525252;display:none" id="framecarseol">Note that if you are using a filter, the above image may be rendered incorrectly.</p><br/>
            <button class="btnxxxy" onclick="window.location.reload()" style="background-color: #b7b0cc;">
               Retry
            </button>
            <button class="btnxxxy" onclick="plzadownload()">
               Download
            </button>
         </center>
      </div>
      <div id="inline" style="display:none">
         <center>
            <h1>Quic Information</h1>
            <p style="width:90vw">Created by <a href="https://twitter.com/DheiryaTyagi">Dheirya Tyagi</a> to help people create good profile pictures<br/><br/></p>
            <h1>Attribution</h1>
            <p style="width:90vw">- <b>Jquery</b> at <i>https://jquery.com<br/></i>
               - <b>Cropper.js</b> at <i>https://fengyuanchen.github.io/cropperjs<br/></i>
               - <b>Jquery Cropper</b> at <i>https://fengyuanchen.github.io/jquery-cropper<br/></i>
               - <b>Marker.js 2</b> at <i>https://markerjs.com<br/></i>
               - <b>Flickity</b> at <i>https://flickity.metafizzy.co<br/></i>
               - <b>rasterizeHTML.js</b> at <i>https://cburgmer.github.io/rasterizeHTML.js<br/></i>
               - <b>Stickerbomb.js</b> at <i>https://github.com/userexec/stickerbomb<br/></i>
               - <b>Modaal</b> at <i>https://humaan.com/modaal<br/></i>
               - <b>Font Awesome</b> at <i>https://fontawesome.com<br/></i>
               - <b>Instagram.css</b> at <i>https://picturepan2.github.io/instagram.css<br/></i>
               - <b>Tailor Brands</b> at <i>https://tailorbrands.com</i>
            </p>
         </center>
      </div>
      <div id="vanillatoasts-container" style="width:100%"></div>
      <script src="js/jquery.js"></script>
      <script src="js/modaal.js"></script>
      <script src="js/vanillatoasts.js"></script>
      <script async defer src="js/cropper.js"></script>
      <script async defer src="js/marker.js"></script>
      <script async defer src="js/flickity.js"></script>
      <script async defer src="js/rasterize.js"></script>
      <script async defer src="js/stickers.js"></script>
      <script>
         var uploadedimage = false;
         setTimeout(() => {
            VanillaToasts.create({
              title: 'âš¡ Quic Information',
              text: 'This site works best on desktop. Some features will be omitted/edited on the mobile version',
              timeout: 4000
            });
         }, 2500);
         $(function() {
             var $body = $(document);
             $body.bind('scroll', function() {
                 if ($body.scrollLeft() !== 0) {
                     $body.scrollLeft(0);
                 }
             });
         });
         $('.modaaalinfo').modaal({
             content_source: '#inline',
             fullscreen: true
         });
         $(".modaaalinfo").click(function() {
           $("#stepone").hide();
           $("#modaal-close").click(function() {
              $("#stepone").show();
            });
         });
         const setRandomInterval = (intervalFunction, minDelay, maxDelay) => {
            let timeout;
            const runInterval = () => {
               const timeoutFunction = () => {
                  intervalFunction();
                  runInterval();
               };
               const delay = Math.floor(Math.random() * (maxDelay - minDelay + 1)) + minDelay;
               timeout = setTimeout(timeoutFunction, delay);
            };
            runInterval();
            return {
               clear() {
                  clearTimeout(timeout);
               },
            };
         };
         function lightning(){
            $(".lightning").show();
            setTimeout(() => {
               $(".lightning").hide();
            }, 750);
         }
         setTimeout(() => {
            if(!uploadedimage) {
               lightning();
            }
         }, 7000);
         setRandomInterval(() => {
            lightning();
         }, 5000, 120000);
         var canvas = document.getElementById("canvas");
         var ctx = canvas.getContext("2d");
         var urldata;
         var color;
         var markerArea;
         function chngshp() {
            if (!color) {
               $(".transxxy").hide();
               drawimage(urldata, document.getElementById("select_id").value);
            } else {
               $(".transxxy").show();
               drawimage(urldata, document.getElementById("select_id").value, color);
            }
         }
         function transparent() {
            color = "";
            $("#color").css("color", "");
            chngshp();
         }
         $("#color").change(function () {
            color = $("#color").val();
            $("#color").css("color", color);
            chngshp();
         });
         function drawimage(url, indey, color) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            var imageObj = document.getElementById("img");
            imageObj.src = "";
            imageObj.onload = function (e) {
               if (indey == -1) {
                  canvas.width = 400;
                  canvas.height = 400;
                  ctx.drawImage(imageObj, 0, 0, 400, 400);
                  $("#filecarousel").hide();
                  $("#filecarouselbtn").css("margin-top", "0px");
               }
               if (indey > -1 && indey < 18) {
                  $("#filecarousel").show();
                  $("#filecarouselbtn").css("margin-top", "15px");
               }
               if (indey == 0) {
                  drawcircle(imageObj, color);
               }
               if (indey == 1) {
                  drawdiamond(imageObj, color);
               }
               if (indey == 2) {
                  drawtriangle(imageObj, color);
               }
               if (indey == 3) {
                  drawpentagon(imageObj, color);
               }
               if (indey == 4) {
                  drawhexagon(imageObj, color);
               }
               if (indey == 5) {
                  drawseptagon(imageObj, color);
               }
               if (indey == 6) {
                  drawoctagon(imageObj, color);
               }
               if (indey == 7) {
                  drawroundrect(imageObj, color);
               }
               if (indey > 7 && indey < 18) {
                  ctx.canvas.width = imageObj.width;
                  ctx.canvas.height = imageObj.height;
                  var sWidth = ctx.canvas.width;
                  var sHeight = ctx.canvas.height;
               }
               if (indey == 8) {
                  drawStar(imageObj, sWidth / 2, sHeight / 1.9, 5, sWidth / 2, sHeight / 4, color);
               }
               if (indey == 9) {
                  drawStar(imageObj, sWidth / 2, sHeight / 2, 6, sWidth / 2, sHeight / 3.5, color);
               }
               if (indey == 10) {
                  drawStar(imageObj, sWidth / 2, sHeight / 1.9, 7, sWidth / 2, sHeight / 3.5, color);
               }
               if (indey == 11) {
                  drawStar(imageObj, sWidth / 2, sHeight / 2, 8, sWidth / 2, sHeight / 3.5, color);
               }
               if (indey == 12) {
                  drawStar(imageObj, sWidth / 2, sHeight / 2, 10, sWidth / 2, sHeight / 3.5, color);
               }
               if (indey == 13) {
                  drawStar(imageObj, sWidth / 2, sHeight / 2, 12, sWidth / 2, sHeight / 3.5, color);
               }
               if (indey == 14) {
                  drawStar(imageObj, sWidth / 2, sHeight / 2, 16, sWidth / 2, sHeight / 3.5, color);
               }
               if (indey == 15) {
                  drawStar(imageObj, sWidth / 2, sHeight / 2, 24, sWidth / 2, sHeight / 3.5, color);
               }
               if (indey == 16) {
                  drawStar(imageObj, sWidth / 2, sHeight / 2, 32, sWidth / 2, sHeight / 3.5, color);
               }
               if (indey == 17) {
                  drawStar(imageObj, sWidth / 2, sHeight / 2, 64, sWidth / 2, sHeight / 3.5, color);
               }
            };
            imageObj.src = url;
         }
         function immmmgfilter(image) {
            $("#picframeimg").attr("src", image);
            imagesded = "'><img src='" + image + "'/></figure><center><i>";
            var instafilter=["none","clarendon","ludwig","gingham","valencia","xpro-ii","sierra","amaro","hefe","nashville","hudson","brooklyn","kelvin","slumber","inkwell","vesper","dogpatch","1977","brannan","charmes","ginza","helena","maven","perpetua","poprocket","stinson","toaster","willow","sutro","ashby","skyline","earlybird","rise","reyes","moon","crema","walden","mayfair","aden","lofi","lark","juno"];
            for (var i = 0; i < instafilter.length; i++) {
               if (i != 0) {
                  $(".main-carousel").append("<div class='carousel-cell'><figure class='filter-" + instafilter[i] + imagesded + instafilter[i] + "</i></center></div>");
               } else {
                  $(".main-carousel").append("<div class='carousel-cell is-clicked'><figure><img src='" + image + "'/></figure><center><i>" + instafilter[i] + "</i></center></div>");
               }
            }
            var $carousel = $(".main-carousel").flickity({
               cellAlign: "center",
               contain: true,
               pageDots: false,
               wrapAround: true,
            });
            $(".carousel-cell").click(function () {
               $(".carousel-cell.is-clicked").removeClass("is-clicked");
               $("#picframe").removeClass();
               $("#picframe").addClass("filter-" + instafilter[$(this).index()]);
               $(this).addClass("is-clicked");
               $carousel.flickity("selectCell", $(this).index());
               $("#framecarseol").show();
            });
         }
         function download() {
            datas = canvas.toDataURL();
            wantedWidth = 400;
            wantedHeight = 400;
            var img = document.createElement("img");
            img.onload = function () {
               var canvas = document.createElement("canvas");
               var ctx = canvas.getContext("2d");
               canvas.width = wantedWidth;
               canvas.height = wantedHeight;
               ctx.drawImage(this, 0, 0, wantedWidth, wantedHeight);
               document.getElementById("countdss").innerHTML = "6";
               document.getElementById("mess").innerHTML = "Custom filters and shades";
               VanillaToasts.create({
                 title: 'ðŸŒ± Final Step',
                 text: 'And finally, let\'s add some cool filters and color shades onto your profile picture!',
                 timeout: 5000
               });
               $(".flodee p").css("right", "-10px");
               lightning();
               document.getElementById("steptwo").style.display = "none";
               document.getElementById("stephalffour").style.display = "block";
               immmmgfilter(canvas.toDataURL("image/png"));
            };
            img.src = datas;
         }
         function svgString2Image(svgData, width, height, format, callback) {
            format = format ? format : "png";
            var canvas = document.createElement("canvas");
            var context = canvas.getContext("2d");
            canvas.width = width;
            canvas.height = height;
            var image = new Image();
            image.onload = function () {
               context.clearRect(0, 0, width, height);
               context.drawImage(image, 0, 0, width, height);
               var pngData = canvas.toDataURL("image/" + format);
               callback(pngData);
            };
            image.src = svgData;
         }
         function plzadownload() {
            var a = document.createElement("a");
            svgString2Image($(".frame img").attr("src"), 400, 400, "png", function (pngData) {
               a.href = pngData;
               a.download = "profilepic";
               a.click();
            });
         }
         function drawStar(imageObj, cx, cy, spikes, outerRadius, innerRadius, color) {
            if (color) {
               ctx.fillStyle = color;
               ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
            var rot = (Math.PI / 2) * 3;
            var x = cx;
            var y = cy;
            var step = Math.PI / spikes;
            ctx.beginPath();
            ctx.moveTo(cx, cy - outerRadius);
            for (i = 0; i < spikes; i++) {
               x = cx + Math.cos(rot) * outerRadius;
               y = cy + Math.sin(rot) * outerRadius;
               ctx.lineTo(x, y);
               rot += step;
               x = cx + Math.cos(rot) * innerRadius;
               y = cy + Math.sin(rot) * innerRadius;
               ctx.lineTo(x, y);
               rot += step;
            }
            ctx.lineTo(cx, cy - outerRadius);
            ctx.closePath();
            var pattern = ctx.createPattern(imageObj, "repeat");
            ctx.fillStyle = pattern;
            ctx.fill();
         }
         function roundRect(ctx, x, y, width, height, radius = 5, fill = false, stroke = true) {
            if (typeof radius === "number") {
               radius = { tl: radius, tr: radius, br: radius, bl: radius };
            } else {
               radius = { ...{ tl: 0, tr: 0, br: 0, bl: 0 }, ...radius };
            }
            ctx.beginPath();
            ctx.moveTo(x + radius.tl, y);
            ctx.lineTo(x + width - radius.tr, y);
            ctx.quadraticCurveTo(x + width, y, x + width, y + radius.tr);
            ctx.lineTo(x + width, y + height - radius.br);
            ctx.quadraticCurveTo(x + width, y + height, x + width - radius.br, y + height);
            ctx.lineTo(x + radius.bl, y + height);
            ctx.quadraticCurveTo(x, y + height, x, y + height - radius.bl);
            ctx.lineTo(x, y + radius.tl);
            ctx.quadraticCurveTo(x, y, x + radius.tl, y);
            ctx.closePath();
            if (fill) {
               ctx.fill();
            }
            if (stroke) {
               ctx.stroke();
            }
         }
         function drawroundrect(imageObj, color) {
            ctx.canvas.width = imageObj.width;
            ctx.canvas.height = imageObj.height;
            var sWidth = ctx.canvas.width;
            var sHeight = ctx.canvas.height;
            if (color) {
               ctx.fillStyle = color;
               ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
            var pattern = ctx.createPattern(imageObj, "repeat");
            ctx.fillStyle = pattern;
            roundRect(ctx, 0, 0, sWidth, sHeight, 50, true);
         }
         function drawoctagon(imageObj, color) {
            ctx.canvas.width = imageObj.width;
            ctx.canvas.height = imageObj.height;
            var sWidth = ctx.canvas.width;
            var sHeight = ctx.canvas.height;
            if (color) {
               ctx.fillStyle = color;
               ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
            var pattern = ctx.createPattern(imageObj, "repeat");
            ctx.fillStyle = pattern;
            var path = new Path2D();
            path.moveTo(sWidth / 6, 0);
            path.lineTo(0, sHeight / 3);
            path.lineTo(0, (sHeight / 3) * 2);
            path.lineTo(sWidth / 6, sHeight);
            path.lineTo((sWidth / 6) * 5, sHeight);
            path.lineTo(sWidth, (sHeight / 3) * 2);
            path.lineTo(sWidth, sHeight / 3);
            path.lineTo((sWidth / 5) * 4, 0);
            ctx.fill(path);
         }
         function drawseptagon(imageObj, color) {
            ctx.canvas.width = imageObj.width;
            ctx.canvas.height = imageObj.height;
            var sWidth = ctx.canvas.width;
            var sHeight = ctx.canvas.height;
            if (color) {
               ctx.fillStyle = color;
               ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
            var pattern = ctx.createPattern(imageObj, "repeat");
            ctx.fillStyle = pattern;
            var path = new Path2D();
            path.moveTo(sWidth / 2, 0);
            path.lineTo(sWidth / 7, sHeight / 3.5);
            path.lineTo(0, (sHeight / 3.5) * 2);
            path.lineTo(sWidth / 7, sHeight);
            path.lineTo((sWidth / 5) * 4, sHeight);
            path.lineTo(sWidth, (sHeight / 3.5) * 2);
            path.lineTo((sWidth / 7) * 6, sHeight / 3.5);
            ctx.fill(path);
         }
         function drawhexagon(imageObj, color) {
            ctx.canvas.width = imageObj.width;
            ctx.canvas.height = imageObj.height;
            var sWidth = ctx.canvas.width;
            var sHeight = ctx.canvas.height;
            if (color) {
               ctx.fillStyle = color;
               ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
            var pattern = ctx.createPattern(imageObj, "repeat");
            ctx.fillStyle = pattern;
            var path = new Path2D();
            path.moveTo(sWidth / 5, 0);
            path.lineTo(0, sHeight / 2);
            path.lineTo(sWidth / 5, sHeight);
            path.lineTo((sWidth / 5) * 4, sHeight);
            path.lineTo(sWidth, sHeight / 2);
            path.lineTo((sWidth / 5) * 4, 0);
            ctx.fill(path);
         }
         function drawpentagon(imageObj, color) {
            ctx.canvas.width = imageObj.width;
            ctx.canvas.height = imageObj.height;
            var sWidth = ctx.canvas.width;
            var sHeight = ctx.canvas.height;
            if (color) {
               ctx.fillStyle = color;
               ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
            var pattern = ctx.createPattern(imageObj, "repeat");
            ctx.fillStyle = pattern;
            var path = new Path2D();
            path.moveTo(sWidth / 2, 0);
            path.lineTo(0, sHeight / 2.5);
            path.lineTo(sWidth / 5, sHeight);
            path.lineTo((sWidth / 5) * 4, sHeight);
            path.lineTo(sWidth, sHeight / 2.5);
            ctx.fill(path);
         }
         function drawdiamond(imageObj, color) {
            ctx.canvas.width = imageObj.width;
            ctx.canvas.height = imageObj.height;
            var sWidth = ctx.canvas.width;
            var sHeight = ctx.canvas.height;
            if (color) {
               ctx.fillStyle = color;
               ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
            var pattern = ctx.createPattern(imageObj, "repeat");
            ctx.fillStyle = pattern;
            var path = new Path2D();
            path.moveTo(sWidth / 2, 0);
            path.lineTo(0, sHeight / 2);
            path.lineTo(sWidth / 2, sHeight);
            path.lineTo(sWidth, sHeight / 2);
            ctx.fill(path);
         }
         function drawtriangle(imageObj, color) {
            ctx.canvas.width = imageObj.width;
            ctx.canvas.height = imageObj.height;
            var sWidth = ctx.canvas.width;
            var sHeight = ctx.canvas.height;
            if (color) {
               ctx.fillStyle = color;
               ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
            var pattern = ctx.createPattern(imageObj, "repeat");
            ctx.fillStyle = pattern;
            var path = new Path2D();
            path.moveTo(sWidth / 2, 0);
            path.lineTo(0, sHeight);
            path.lineTo(sWidth, sHeight);
            ctx.fill(path);
         }
         function drawcircle(imageObj, color) {
            ctx.canvas.width = imageObj.width;
            ctx.canvas.height = imageObj.height;
            if (color) {
               ctx.fillStyle = color;
               ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
            var pattern = ctx.createPattern(imageObj, "repeat");
            ctx.fillStyle = pattern;
            ctx.beginPath();
            ctx.arc(imageObj.width / 2, imageObj.width / 2, imageObj.width / 2, imageObj.width / 2, Math.PI * 2, true);
            ctx.closePath();
            ctx.fill();
         }
         function getBase64(file) {
            var reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onload = function () {
               $("#koleimg").attr("src", reader.result);
               nextstep(reader.result);
            };
         }
         var cropper;
         function nextstep(imageData) {
            var i = new Image();
            i.onload = function () {
               if (i.width != i.height) {
                  document.getElementById("countdss").innerHTML = "2";
                  VanillaToasts.create({
                    title: 'âœï¸ Next Step',
                    text: 'Crop your profile picture to be a square 1:1 Ratio-sized image',
                    timeout: 5000
                  });
                  document.getElementById("mess").innerHTML = "Crop your image to 1:1 Ratio";
                  lightning();
                  $(".flodee").css("margin-bottom", "-10px");
                  $(".flodee p").css("right", "-16px");
                  var $image = $("#koleimg");
                  $image.cropper({
                     aspectRatio: 1 / 1,
                     viewMode: 1,
                     minContainerHeight: 400,
                  });
                  var cropper = $image.data("cropper");
               } else {
                  document.getElementById("countdss").innerHTML = "3";
                  document.getElementById("mess").innerHTML = "Add fun stickers";
                  VanillaToasts.create({
                    title: 'âœ¨ Next Step',
                    text: 'Let\'s add some fun stickers/accessories to your profile picture now',
                    timeout: 5000
                  });
                  $(".flodee").css("margin-bottom", "-25px");
                  $(".flodee p").css("right", "74px");
                  lightning();
                  document.getElementById("stephalf").style.display = "none";
                  document.getElementById("stephalftwo").style.display = "block";
                  var show = stickerbomb({
                     target: "#sb",
                     aspectRatio: "1:1",
                     backdrops: [imageData],
                     stickers: {
                        Stickers: [
                           { name: "Sun", src: "images/sun.png", widthPercentage: 30 },
                           { name: "Heart", src: "images/heart.png", widthPercentage: 30 },
                           { name: "Lightning Bolt", src: "images/bolt.png", widthPercentage: 30 },
                           { name: "Music", src: "images/music.png", widthPercentage: 30 },
                           { name: "Earth", src: "images/earth.png", widthPercentage: 30 },
                           { name: "Rainbow", src: "images/rainbow.png", widthPercentage: 30 },
                        ],
                        "Facial": [
                           { name: "Moustache", src: "images/must.png", widthPercentage: 75 },
                           { name: "Crown", src: "images/crown.png", widthPercentage: 75 },
                           { name: "Cowboy Hat", src: "images/hat.png", widthPercentage: 75 },
                           { name: "Glasses", src: "images/glasses.png", widthPercentage: 50 },
                        ],
                        "Emojis": [
                           { name: "Fire", src: "images/fire.png", widthPercentage: 20 },
                           { name: "Computer", src: "images/computer.png", widthPercentage: 20 },
                           { name: "Camera", src: "images/camera.png", widthPercentage: 20 },
                           { name: "Prayer", src: "images/prayer.png", widthPercentage: 20 },
                           { name: "Stars", src: "images/stars.png", widthPercentage: 20 },
                           { name: "Laughing", src: "images/laughing.png", widthPercentage: 20 },
                           { name: "Thumbs Up", src: "images/thumbs.png", widthPercentage: 20 },
                           { name: "Crying", src: "images/crying.png", widthPercentage: 20 },
                           { name: "Love", src: "images/love.png", widthPercentage: 20 },
                        ],
                     },
                     hideActions: ["save", "print", "forward", "twitter", "facebook", "share"],
                  });
               }
            };
            i.src = imageData;
         }
         function crop(preview) {
            cropper = $("#koleimg").data("cropper");
            cropper.getCroppedCanvas();
            cropper.getCroppedCanvas().toBlob((blob) => {
               var reader = new FileReader();
               reader.readAsDataURL(blob);
               reader.onloadend = function () {
                  var base64data = reader.result;
                  if (!preview) {
                     document.getElementById("countdss").innerHTML = "3";
                     VanillaToasts.create({
                       title: 'âœ¨ Next Step',
                       text: 'Let\'s add some fun stickers/accessories to your profile picture now',
                       timeout: 5000
                     });
                     document.getElementById("mess").innerHTML = "Add fun stickers";
                     $(".flodee").css("margin-bottom", "-25px");
                     $(".flodee p").css("right", "74px");
                     lightning();
                     document.getElementById("stephalf").style.display = "none";
                     document.getElementById("stephalftwo").style.display = "block";
                     var show = stickerbomb({
                        target: "#sb",
                        aspectRatio: "1:1",
                        backdrops: [base64data],
                        stickers: {
                           Stickers: [
                              { name: "Sun", src: "images/sun.png", widthPercentage: 30 },
                              { name: "Heart", src: "images/heart.png", widthPercentage: 30 },
                              { name: "Lightning Bolt", src: "images/bolt.png", widthPercentage: 30 },
                              { name: "Music", src: "images/music.png", widthPercentage: 30 },
                              { name: "Earth", src: "images/earth.png", widthPercentage: 30 },
                              { name: "Rainbow", src: "images/rainbow.png", widthPercentage: 30 },
                           ],
                           "Facial": [
                              { name: "Moustache", src: "images/must.png", widthPercentage: 75 },
                              { name: "Crown", src: "images/crown.png", widthPercentage: 75 },
                              { name: "Cowboy Hat", src: "images/hat.png", widthPercentage: 75 },
                              { name: "Glasses", src: "images/glasses.png", widthPercentage: 50 },
                           ],
                           "Emojis": [
                              { name: "Fire", src: "images/fire.png", widthPercentage: 20 },
                              { name: "Computer", src: "images/computer.png", widthPercentage: 20 },
                              { name: "Camera", src: "images/camera.png", widthPercentage: 20 },
                              { name: "Prayer", src: "images/prayer.png", widthPercentage: 20 },
                              { name: "Stars", src: "images/stars.png", widthPercentage: 20 },
                              { name: "Laughing", src: "images/laughing.png", widthPercentage: 20 },
                              { name: "Thumbs Up", src: "images/thumbs.png", widthPercentage: 20 },
                              { name: "Crying", src: "images/crying.png", widthPercentage: 20 },
                              { name: "Love", src: "images/love.png", widthPercentage: 20 },
                           ],
                        },
                        hideActions: ["save", "print", "forward", "twitter", "facebook", "share"],
                     });
                  }
               };
            });
         }
         function nxxtsp() {
            datas = document.getElementsByClassName("sb_canvas")[0].toDataURL();
            wantedWidth = 400;
            wantedHeight = 400;
            var img = document.createElement("img");
            img.onload = function () {
               var canvas = document.createElement("canvas");
               var ctx = canvas.getContext("2d");
               canvas.width = wantedWidth;
               canvas.height = wantedHeight;
               ctx.drawImage(this, 0, 0, wantedWidth, wantedHeight);
               var link = document.getElementById("link");
               base64data = canvas.toDataURL("image/png");
               document.getElementById("imgmarker").src = base64data;
               document.getElementById("countdss").innerHTML = "4";
               document.getElementById("mess").innerHTML = "Draw and annotate on picture";
               VanillaToasts.create({
                 title: 'ðŸ–Œï¸ Next Step',
                 text: 'Now it\'s time to draw and add shapes onto your profile picture!',
                 timeout: 5000
               });
               $(".flodee").css("margin-bottom", "-25px");
               $(".flodee p").css("right", "-40px");
               lightning();
               document.getElementById("stephalftwo").style.display = "none";
               document.getElementById("stephalfthree").style.display = "block";
               markerArea = new markerjs2.MarkerArea(document.getElementById("imgmarker"));
               markerArea.addEventListener("render", (event) => {
                  document.getElementById("imgmarker").src = event.dataUrl;
               });
               markerArea.show();
            };
            img.src = datas;
         }
         function savedsasdsa() {
            unpadding = document.getElementById("editrrrind").offsetHeight;
            document.getElementById("mdaslkedee").style.display = "none";
            document.getElementById("editrrrind").style.visibility = "hidden";
            document.getElementById("loader").style.marginTop = "-" + unpadding + "px";
            document.getElementById("loader").style.display = "block";
            document.querySelectorAll('[data-action="render"]')[0].click();
            setTimeout(function () {
               base64data = document.getElementById("imgmarker").src;
               document.getElementById("editrrrind").display = "none";
               document.getElementById("loader").display = "none";
               document.getElementById("countdss").innerHTML = "5";
               document.getElementById("mess").innerHTML = "Profile shape & background";
               $(".flodee p").css("right", "-20px");
               VanillaToasts.create({
                 title: 'ðŸš€ Next Step',
                 text: 'Let\'s take your profile picture to the next level. Custom profile shape and background!',
                 timeout: 5000
               });
               lightning();
               document.getElementById("stephalfthree").style.display = "none";
               document.getElementById("steptwo").style.display = "block";
               drawimage(base64data, -1);
               urldata = base64data;
            }, 1000);
         }
         function cleardsaer() {
            document.querySelectorAll('[data-action="close"]')[0].click();
            markerArea.show();
         }
         document.getElementById("file").onchange = function () {
            var file = document.getElementById("file").files[0];
            document.getElementById("stepone").style.display = "none";
            document.getElementById("stephalf").style.display = "block";
            uploadedimage = true;
            getBase64(file);
         };
         function genRand(min, max, decimalPlaces) {
            var rand = Math.random() * (max - min) + min;
            var power = Math.pow(10, decimalPlaces);
            return Math.floor(rand * power) / power;
         }
         function daedssave() {
            filter = $("#picframe").attr("class");
            image = $("#picframeimg").attr("src");
            rasterizeHTML.drawHTML(`
             <style>figure{margin:0;padding:0}body,html{padding: 0;margin: 0;}</style>
             <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/picturepan2/instagram.css/dist/instagram.min.css"/>
             <figure class="${filter}" style="width:400px;height:400px">
                 <img id="picframeimg" src="${image}" style="width:400px;height:400px"/>
             </figure>`).then(function success(renderResult) {
               base64image = renderResult.image.src;
               document.getElementById("stephalffour").style.display = "none";
               document.getElementById("stepseven").style.display = "block";
               document.getElementById("countdss").innerHTML = "7";
               document.getElementById("mess").innerHTML = "Download and update your photo";
               VanillaToasts.create({
                 title: 'ðŸ“¥ Download',
                 text: 'And finally, let\'s download your profile picture!',
                 timeout: 5000
               });
               $(".flodee").css("margin-bottom", "-35px");
               $(".flodee p").css("right", "-70px");
               lightning();
               $(".frame img").attr("src", base64image);
               $(".frame").attr("style", "transform: rotate(" + genRand(2, -2, 2) + "deg)");
               width = $(".frame").width();
               $(".frame img").css("width", width);
               $(".frame img").css("height", width);
            });
         }
         document.addEventListener("DOMContentLoaded", () => {
            document.body.className = '';
         });
      </script>
   </body>
</html>